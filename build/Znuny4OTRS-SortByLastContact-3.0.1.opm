<?xml version="1.0" encoding="utf-8" ?>
<otrs_package version="1.1">
    <Name>Znuny4OTRS-SortByLastContact</Name>
    <Version>3.0.1</Version>
    <Vendor>Znuny GmbH</Vendor>
    <URL>http://znuny.com/</URL>
    <License>GNU AFFERO GENERAL PUBLIC LICENSE Version 3, November 2007</License>
    <Description Lang="en">Ticket sort order by last customer contact.</Description>
    <Description Lang="de">Ticket Sortierung nach letztem Kundenkontakt.</Description>
    <Framework>3.1.x</Framework>
    <Framework>3.2.x</Framework>
    <Framework>3.x.x</Framework>
    <CodeInstall Type="post">
  
          # define function name
          my $FunctionName = 'CodeInstall';
  
          # create the package name
          my $CodeModule = 'var::packagesetup::LastCustomerContact';
  
          # load the module
          if ( $Self-&gt;{MainObject}-&gt;Require($CodeModule) ) {
  
              # create new instance
              my $CodeObject = $CodeModule-&gt;new( %{$Self} );
  
              if ($CodeObject) {
  
                  # start method
                  if ( !$CodeObject-&gt;$FunctionName(%{$Self}) ) {
                      $Self-&gt;{LogObject}-&gt;Log(
                          Priority =&gt; 'error',
                          Message  =&gt; &quot;Could not call method $FunctionName() on $CodeModule.pm.&quot;
                      );
                  }
              }
  
              # error handling
              else {
                  $Self-&gt;{LogObject}-&gt;Log(
                      Priority =&gt; 'error',
                      Message  =&gt; &quot;Could not call method new() on $CodeModule.pm.&quot;
                  );
              }
          }
  
      
    </CodeInstall>
    <CodeReinstall Type="post">
  
          # define function name
          my $FunctionName = 'CodeInstall';
  
          # create the package name
          my $CodeModule = 'var::packagesetup::LastCustomerContact';
  
          # load the module
          if ( $Self-&gt;{MainObject}-&gt;Require($CodeModule) ) {
  
              # create new instance
              my $CodeObject = $CodeModule-&gt;new( %{$Self} );
  
              if ($CodeObject) {
  
                  # start method
                  if ( !$CodeObject-&gt;$FunctionName(%{$Self}) ) {
                      $Self-&gt;{LogObject}-&gt;Log(
                          Priority =&gt; 'error',
                          Message  =&gt; &quot;Could not call method $FunctionName() on $CodeModule.pm.&quot;
                      );
                  }
              }
  
              # error handling
              else {
                  $Self-&gt;{LogObject}-&gt;Log(
                      Priority =&gt; 'error',
                      Message  =&gt; &quot;Could not call method new() on $CodeModule.pm.&quot;
                  );
              }
          }
      
    </CodeReinstall>
    <BuildDate>2013-04-27 22:10:19</BuildDate>
    <BuildHost>localhost</BuildHost>
    <Filelist>
        <File Location="Kernel/Config/Files/Znuny4OTRSSortByLastContact.xml" Permission="644" Encode="Base64">PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPG90cnNfY29uZmlnIHZlcnNpb249IjEuMCIgaW5pdD0iQ29uZmlnIj4KICAgIDxDb25maWdJdGVtIE5hbWU9IlRpY2tldDo6RXZlbnRNb2R1bGVQb3N0IyMjU2V0TGFzdEN1c3RvbWVyQ29udGFjdCIgUmVxdWlyZWQ9IjAiIFZhbGlkPSIxIj4KICAgICAgICA8RGVzY3JpcHRpb24gTGFuZz0iZW4iPlRpY2tldCBldmVudCBtb2R1bGUgdG8gdXBkYXRlIGxhc3QgY3VzdG9tZXIgY29udGFjdCB0aW1lc3RhbXAgYWZ0ZXIgYXJ0aWNsZSBjcmVhdGUgYWN0aW9uLjwvRGVzY3JpcHRpb24+CiAgICAgICAgPERlc2NyaXB0aW9uIExhbmc9ImRlIj5UaWNrZXQgRXZlbnQgTW9kdWwgenVtIGF1dG9tYXRpc2NoZW4gU2V0emVuIGRlcyBaZWl0c3RlbXBlbHMgZsO8ciBkZW4gbGV0enRlbiBLdW5kZW4tS29udGFrdCBuYWNoIEVyc3RlbGx1bmcgZWluZXMgQXJ0aWtlbHMuPC9EZXNjcmlwdGlvbj4KICAgICAgICA8R3JvdXA+VGlja2V0PC9Hcm91cD4KICAgICAgICA8U3ViR3JvdXA+Q29yZTo6VGlja2V0PC9TdWJHcm91cD4KICAgICAgICA8U2V0dGluZz4KICAgICAgICAgICAgPEhhc2g+CiAgICAgICAgICAgICAgICA8SXRlbSBLZXk9Ik1vZHVsZSI+S2VybmVsOjpTeXN0ZW06OlRpY2tldDo6RXZlbnQ6OlRpbWVVcGRhdGU8L0l0ZW0+CiAgICAgICAgICAgICAgICA8SXRlbSBLZXk9IkV2ZW50Ij5BcnRpY2xlQ3JlYXRlPC9JdGVtPgogICAgICAgICAgICA8L0hhc2g+CiAgICAgICAgPC9TZXR0aW5nPgogICAgPC9Db25maWdJdGVtPgogICAgPENvbmZpZ0l0ZW0gTmFtZT0iVGlja2V0OjpGcm9udGVuZDo6QWdlbnRUaWNrZXRRdWV1ZSMjI1NvcnRCeTo6RGVmYXVsdCIgUmVxdWlyZWQ9IjEiIFZhbGlkPSIxIj4KICAgICAgICA8RGVzY3JpcHRpb24gTGFuZz0iZW4iPkRlZmF1bHQgc29ydCBjcml0ZXJpYSBmb3IgYWxsIHF1ZXVlcyBkaXNwbGF5ZWQgaW4gdGhlIFF1ZXVlVmlldyBhZnRlciBzb3J0IGJ5IHByaW9yaXR5IGlzIGRvbmUuPC9EZXNjcmlwdGlvbj4KICAgICAgICA8RGVzY3JpcHRpb24gTGFuZz0iZGUiPlN0YW5kYXJkIFNvcnRpZXJrcml0ZXJpdW0gZsO8ciBhbGxlIFF1ZXVlcyBpbm5lcmhhbGIgZGVyIFF1ZXVlLUFuc2ljaHQgbmFjaGRlbSBuYWNoIGRlciBQcmlvcml0w6R0IHNvcnRpZXJ0IHd1cmRlLjwvRGVzY3JpcHRpb24+CiAgICAgICAgPEdyb3VwPlRpY2tldDwvR3JvdXA+CiAgICAgICAgPFN1Ykdyb3VwPkZyb250ZW5kOjpBZ2VudDo6VGlja2V0OjpWaWV3UXVldWU8L1N1Ykdyb3VwPgogICAgICAgIDxTZXR0aW5nPgogICAgICAgICAgICA8T3B0aW9uIFNlbGVjdGVkSUQ9IkR5bmFtaWNGaWVsZF9UaWNrZXRMYXN0Q3VzdG9tZXJDb250YWN0VGltZSI+CiAgICAgICAgICAgICAgICA8SXRlbSBLZXk9IkFnZSI+QWdlPC9JdGVtPgogICAgICAgICAgICAgICAgPEl0ZW0gS2V5PSJUaWNrZXQiPlRpY2tldDwvSXRlbT4KICAgICAgICAgICAgICAgIDxJdGVtIEtleT0iU3ViamVjdCI+U3ViamVjdDwvSXRlbT4KICAgICAgICAgICAgICAgIDxJdGVtIEtleT0iUXVldWUiPlF1ZXVlPC9JdGVtPgogICAgICAgICAgICAgICAgPEl0ZW0gS2V5PSJQcmlvcml0eSI+UHJpb3JpdHk8L0l0ZW0+CiAgICAgICAgICAgICAgICA8SXRlbSBLZXk9IkR5bmFtaWNGaWVsZF9UaWNrZXRMYXN0Q3VzdG9tZXJDb250YWN0VGltZSI+RHluYW1pY0ZpZWxkX1RpY2tldExhc3RDdXN0b21lckNvbnRhY3RUaW1lPC9JdGVtPgogICAgICAgICAgICA8L09wdGlvbj4KICAgICAgICA8L1NldHRpbmc+CiAgICA8L0NvbmZpZ0l0ZW0+CiAgICA8Q29uZmlnSXRlbSBOYW1lPSJUaWNrZXQ6OkZyb250ZW5kOjpBZ2VudFRpY2tldFN0YXR1c1ZpZXcjIyNTb3J0Qnk6OkRlZmF1bHQiIFJlcXVpcmVkPSIxIiBWYWxpZD0iMSI+CiAgICAgICAgPERlc2NyaXB0aW9uIExhbmc9ImVuIj5RdWV1ZSBzb3J0IGJ5IGRlZmF1bHQuPC9EZXNjcmlwdGlvbj4KICAgICAgICA8RGVzY3JpcHRpb24gTGFuZz0iZGUiPlN0YW5kYXJkIFNvcnRpZXJ1bmcgZGVyIFF1ZXVlLjwvRGVzY3JpcHRpb24+CiAgICAgICAgPEdyb3VwPlRpY2tldDwvR3JvdXA+CiAgICAgICAgPFN1Ykdyb3VwPkZyb250ZW5kOjpBZ2VudDo6VGlja2V0OjpWaWV3U3RhdHVzPC9TdWJHcm91cD4KICAgICAgICA8U2V0dGluZz4KICAgICAgICAgICAgPE9wdGlvbiBTZWxlY3RlZElEPSJEeW5hbWljRmllbGRfVGlja2V0TGFzdEN1c3RvbWVyQ29udGFjdFRpbWUiPgogICAgICAgICAgICAgICAgPEl0ZW0gS2V5PSJBZ2UiPkFnZTwvSXRlbT4KICAgICAgICAgICAgICAgIDxJdGVtIEtleT0iVGlja2V0Ij5UaWNrZXQ8L0l0ZW0+CiAgICAgICAgICAgICAgICA8SXRlbSBLZXk9IlN1YmplY3QiPlN1YmplY3Q8L0l0ZW0+CiAgICAgICAgICAgICAgICA8SXRlbSBLZXk9IlF1ZXVlIj5RdWV1ZTwvSXRlbT4KICAgICAgICAgICAgICAgIDxJdGVtIEtleT0iUHJpb3JpdHkiPlByaW9yaXR5PC9JdGVtPgogICAgICAgICAgICAgICAgPEl0ZW0gS2V5PSJEeW5hbWljRmllbGRfVGlja2V0TGFzdEN1c3RvbWVyQ29udGFjdFRpbWUiPkR5bmFtaWNGaWVsZF9UaWNrZXRMYXN0Q3VzdG9tZXJDb250YWN0VGltZTwvSXRlbT4KICAgICAgICAgICAgPC9PcHRpb24+CiAgICAgICAgPC9TZXR0aW5nPgogICAgPC9Db25maWdJdGVtPgogICAgPENvbmZpZ0l0ZW0gTmFtZT0iVGlja2V0OjpGcm9udGVuZDo6QWdlbnRUaWNrZXRTdGF0dXNWaWV3IyMjT3JkZXI6OkRlZmF1bHQiIFJlcXVpcmVkPSIxIiBWYWxpZD0iMSI+CiAgICAgICAgPERlc2NyaXB0aW9uIFRyYW5zbGF0YWJsZT0iMSI+RGVmaW5lcyB0aGUgZGVmYXVsdCB0aWNrZXQgb3JkZXIgKGFmdGVyIHByaW9yaXR5IHNvcnQpIGluIHRoZSBzdGF0dXMgdmlldyBvZiB0aGUgYWdlbnQgaW50ZXJmYWNlLiBVcDogb2xkZXN0IG9uIHRvcC4gRG93bjogbGF0ZXN0IG9uIHRvcC48L0Rlc2NyaXB0aW9uPgogICAgICAgIDxHcm91cD5UaWNrZXQ8L0dyb3VwPgogICAgICAgIDxTdWJHcm91cD5Gcm9udGVuZDo6QWdlbnQ6OlRpY2tldDo6Vmlld1N0YXR1czwvU3ViR3JvdXA+CiAgICAgICAgPFNldHRpbmc+CiAgICAgICAgICAgIDxPcHRpb24gU2VsZWN0ZWRJRD0iVXAiPgogICAgICAgICAgICAgICAgPEl0ZW0gS2V5PSJEb3duIj5Eb3duPC9JdGVtPgogICAgICAgICAgICAgICAgPEl0ZW0gS2V5PSJVcCI+VXA8L0l0ZW0+CiAgICAgICAgICAgIDwvT3B0aW9uPgogICAgICAgIDwvU2V0dGluZz4KICAgIDwvQ29uZmlnSXRlbT4KICAgIDxDb25maWdJdGVtIE5hbWU9IlRpY2tldDo6RnJvbnRlbmQ6OkFnZW50VGlja2V0TG9ja2VkVmlldyMjI1NvcnRCeTo6RGVmYXVsdCIgUmVxdWlyZWQ9IjEiIFZhbGlkPSIxIj4KICAgICAgICA8RGVzY3JpcHRpb24gVHJhbnNsYXRhYmxlPSIxIj5EZWZpbmVzIHRoZSBkZWZhdWx0IHRpY2tldCBhdHRyaWJ1dGUgZm9yIHRpY2tldCBzb3J0aW5nIGluIHRoZSBsb2NrZWQgdGlja2V0IHZpZXcgb2YgdGhlIGFnZW50IGludGVyZmFjZS48L0Rlc2NyaXB0aW9uPgogICAgICAgIDxHcm91cD5UaWNrZXQ8L0dyb3VwPgogICAgICAgIDxTdWJHcm91cD5Gcm9udGVuZDo6QWdlbnQ6OlRpY2tldDo6Vmlld01haWxib3g8L1N1Ykdyb3VwPgogICAgICAgIDxTZXR0aW5nPgogICAgICAgICAgICA8T3B0aW9uIFNlbGVjdGVkSUQ9IkR5bmFtaWNGaWVsZF9UaWNrZXRMYXN0Q3VzdG9tZXJDb250YWN0VGltZSI+CiAgICAgICAgICAgICAgICA8SXRlbSBLZXk9IkFnZSI+QWdlPC9JdGVtPgogICAgICAgICAgICAgICAgPEl0ZW0gS2V5PSJUaWNrZXQiPlRpY2tldDwvSXRlbT4KICAgICAgICAgICAgICAgIDxJdGVtIEtleT0iU3ViamVjdCI+U3ViamVjdDwvSXRlbT4KICAgICAgICAgICAgICAgIDxJdGVtIEtleT0iUXVldWUiPlF1ZXVlPC9JdGVtPgogICAgICAgICAgICAgICAgPEl0ZW0gS2V5PSJQcmlvcml0eSI+UHJpb3JpdHk8L0l0ZW0+CiAgICAgICAgICAgICAgICA8SXRlbSBLZXk9IkR5bmFtaWNGaWVsZF9UaWNrZXRMYXN0Q3VzdG9tZXJDb250YWN0VGltZSI+RHluYW1pY0ZpZWxkX1RpY2tldExhc3RDdXN0b21lckNvbnRhY3RUaW1lPC9JdGVtPgogICAgICAgICAgICA8L09wdGlvbj4KICAgICAgICA8L1NldHRpbmc+CiAgICA8L0NvbmZpZ0l0ZW0+Cjwvb3Ryc19jb25maWc+Cg==</File>
        <File Location="Kernel/System/Ticket/Event/TimeUpdate.pm" Permission="644" Encode="Base64">IyAtLQojIEtlcm5lbC9TeXN0ZW0vVGlja2V0L0V2ZW50L1RpbWVVcGRhdGUucG0gLSB0aW1lIHVwZGF0ZSBldmVudCBtb2R1bGUKIyBDb3B5cmlnaHQgKEMpIDIwMTMgWm51bnkgR21iSCwgaHR0cDovL3pudW55LmNvbS8KIyAtLQoKCnBhY2thZ2UgS2VybmVsOjpTeXN0ZW06OlRpY2tldDo6RXZlbnQ6OlRpbWVVcGRhdGU7Cgp1c2Ugc3RyaWN0Owp1c2Ugd2FybmluZ3M7CnVzZSBLZXJuZWw6OlN5c3RlbTo6RHluYW1pY0ZpZWxkOjpCYWNrZW5kOwoKc3ViIG5ldyB7CiAgICBteSAoICRUeXBlLCAlUGFyYW0gKSA9IEBfOwoKICAgICMgYWxsb2NhdGUgbmV3IGhhc2ggZm9yIG9iamVjdAogICAgbXkgJFNlbGYgPSB7fTsKICAgIGJsZXNzKCAkU2VsZiwgJFR5cGUgKTsKCiAgICAjIGdldCBuZWVkZWQgb2JqZWN0cwogICAgZm9yIG15ICRPYmplY3QgKAogICAgICAgIHF3KE1haW5PYmplY3QgRW5jb2RlT2JqZWN0IER5bmFtaWNGaWVsZE9iamVjdCBEeW5hbWljRmllbGRCYWNrZW5kT2JqZWN0IFRpY2tldE9iamVjdCBMb2dPYmplY3QgVGltZU9iamVjdCBEQk9iamVjdCBDb25maWdPYmplY3QpCiAgICAgICAgKQogICAgewogICAgICAgICRTZWxmLT57JE9iamVjdH0gPSAkUGFyYW17JE9iamVjdH0gfHwgZGllICJHb3Qgbm8gJE9iamVjdCEiOwogICAgfQoKICAgIHJldHVybiAkU2VsZjsKfQoKc3ViIFJ1biB7CiAgICBteSAoICRTZWxmLCAlUGFyYW0gKSA9IEBfOwoKICAgICMgY2hlY2sgbmVlZGVkIHN0dWZmCiAgICBmb3IgKHF3KFRpY2tldElEIEV2ZW50IENvbmZpZykpIHsKICAgICAgICBpZiAoICEkUGFyYW17JF99ICkgewogICAgICAgICAgICAkU2VsZi0+e0xvZ09iamVjdH0tPkxvZyggUHJpb3JpdHkgPT4gJ2Vycm9yJywgTWVzc2FnZSA9PiAiTmVlZCAkXyEiICk7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICB9CgogICAgcmV0dXJuIDEgaWYgJFBhcmFte0V2ZW50fSBuZSAnQXJ0aWNsZUNyZWF0ZSc7CgogICAgIyBnZXQgYXJ0aWNsZSBpbmRleAogICAgbXkgQEFydGljbGVJbmRleCA9ICRTZWxmLT57VGlja2V0T2JqZWN0fS0+QXJ0aWNsZUluZGV4KAogICAgICAgIFRpY2tldElEID0+ICRQYXJhbXtUaWNrZXRJRH0sCiAgICApOwoKICAgIHJldHVybiAxIGlmICFAQXJ0aWNsZUluZGV4OwoKICAgICMgZ2V0IGxhc3QgYXJ0aWNsZQogICAgbXkgJUFydGljbGUgPSAkU2VsZi0+e1RpY2tldE9iamVjdH0tPkFydGljbGVHZXQoCiAgICAgICAgQXJ0aWNsZUlEID0+ICRBcnRpY2xlSW5kZXhbLTFdLAogICAgKTsKCiAgICByZXR1cm4gMSBpZiAhJUFydGljbGU7CiAgICByZXR1cm4gMSBpZiAkQXJ0aWNsZXtTZW5kZXJUeXBlfSAhfiAvXihjdXN0b21lcnxhZ2VudCkvOwogICAgcmV0dXJuIDEgaWYgJEFydGljbGV7QXJ0aWNsZVR5cGV9ICF+IC8oZXh0ZXJufHBob25lfGZheHxzbXMpLzsKCiAgICAjIHJlbWVtYmVyIHNlbmRlciB0eXBlCiAgICBteSAkRHluYW1pY0ZpZWxkQ29uZmlnRGlyZWN0aW9uID0gJFNlbGYtPntEeW5hbWljRmllbGRPYmplY3R9LT5EeW5hbWljRmllbGRHZXQoCiAgICAgICAgTmFtZSA9PiAiVGlja2V0TGFzdEN1c3RvbWVyQ29udGFjdERpcmVjdGlvbiIsCiAgICApOwogICAgcmV0dXJuIDEgaWYgISREeW5hbWljRmllbGRDb25maWdEaXJlY3Rpb247CgogICAgbXkgJER5bmFtaWNGaWVsZENvbmZpZ1RpbWUgPSAkU2VsZi0+e0R5bmFtaWNGaWVsZE9iamVjdH0tPkR5bmFtaWNGaWVsZEdldCgKICAgICAgICBOYW1lID0+ICJUaWNrZXRMYXN0Q3VzdG9tZXJDb250YWN0VGltZSIsCiAgICApOwogICAgcmV0dXJuIDEgaWYgISREeW5hbWljRmllbGRDb25maWdUaW1lOwogICAgCiAgICAjIGdldCB0aGUgY3VycmVudCB0aWNrZXQKICAgIG15ICVUaWNrZXQgPSAkU2VsZi0+e1RpY2tldE9iamVjdH0tPlRpY2tldEdldCgKICAgICAgICBUaWNrZXRJRCA9PiAkUGFyYW17VGlja2V0SUR9LAogICAgICAgIFVzZXJJRCAgID0+IDEsCiAgICApOwoKICAgIHJldHVybiBpZiAhJVRpY2tldDsKCiAgICAjIGdldCB0aGUgZnVsbCB0aWNrZXQgaGlzdG9yeSBvZiB0aGUgY3VycmVudCB0aWNrZXQKICAgIG15IEBUaWNrZXRIaXN0b3J5ID0gJFNlbGYtPntUaWNrZXRPYmplY3R9LT5IaXN0b3J5R2V0KAogICAgICAgIFRpY2tldElEID0+ICRQYXJhbXtUaWNrZXRJRH0sCiAgICAgICAgVXNlcklEICAgPT4gMSwKICAgICk7CgogICAgcmV0dXJuIGlmICFAVGlja2V0SGlzdG9yeTsKCiAgICAjIGdldCBvbmx5IHRoZSBTdGF0ZVVwZGF0ZSBlbnRyaWVzCiAgICBteSBAVXBkYXRlSGlzdG9yeTsKICAgIElURU06CiAgICBmb3IgbXkgJEl0ZW0gKEBUaWNrZXRIaXN0b3J5KSB7CgogICAgICAgIG5leHQgSVRFTSBpZiAhJEl0ZW07CiAgICAgICAgbmV4dCBJVEVNIGlmIHJlZiAkSXRlbSBuZSAnSEFTSCc7CgogICAgICAgIG5leHQgSVRFTSBpZiAkSXRlbS0+e0hpc3RvcnlUeXBlfSBuZSAnU3RhdGVVcGRhdGUnOwoKICAgICAgICBwdXNoIEBVcGRhdGVIaXN0b3J5LCAkSXRlbTsKICAgIH0KCiAgICAjIGdldCB0aGUgcHJldmlvdXMgaGlzdG9yeSBlbnRyeSB0byBnZXQgdGhlIGRhdGUgdmFsdWVzIHRvIGZpbmQgb3V0IHRoZSBwcmV2aW91cyB0aWNrZXRzdGF0ZSBpbgogICAgIyB0aGUgbmV4dCBzdGVwCiAgICBteSAlUHJldmlvdXNTdGF0ZTsKICAgIGlmICggc2NhbGFyIEBVcGRhdGVIaXN0b3J5ID49IDIgJiYgJEFydGljbGV7U2VuZGVyVHlwZX0gZXEgJ2N1c3RvbWVyJyApIHsKCiAgICAgICAgIyBleHRyYWN0IHByZXZpb3VzIGhpc3RvcnkgZW50cnkKICAgICAgICBteSAlUHJldmlvdXNIaXN0b3J5RW50cnkgPSAleyAkVXBkYXRlSGlzdG9yeVstMl0gfTsKCiAgICAgICAgIyBnZXQgdGhlIHN0YXRlIG9mIHRoZSBwcmV2aW91cyBoaXN0b3J5IGVudHJ5CiAgICAgICAgJVByZXZpb3VzU3RhdGUgPSAkU2VsZi0+e1N0YXRlT2JqZWN0fS0+U3RhdGVHZXQoCiAgICAgICAgICAgIElEID0+ICRQcmV2aW91c0hpc3RvcnlFbnRyeXtTdGF0ZUlEfSwKICAgICAgICApOwogICAgfQoKICAgIG15ICRMYXN0Q29udGFjdFRpbWUgICA9ICRUaWNrZXR7ICdUaWNrZXRMYXN0Q3VzdG9tZXJDb250YWN0VGltZScgfSB8fCAnJzsKICAgIG15ICRMYXN0U2VuZGVyICAgICAgICA9ICRUaWNrZXR7ICdUaWNrZXRMYXN0Q3VzdG9tZXJDb250YWN0RGlyZWN0aW9uJyB9IHx8ICcnOwogICAgbXkgJE5ld1NlbmRlciAgICAgICAgID0gJEFydGljbGV7U2VuZGVyVHlwZX07CiAgICBteSAkU3RhdGVUeXBlICAgICAgICAgPSAkVGlja2V0e1N0YXRlVHlwZX07CiAgICBteSAkUHJldmlvdXNTdGF0ZVR5cGUgPSAkUHJldmlvdXNTdGF0ZXtUeXBlTmFtZX0gICAgICAgICAgICAgICAgICB8fCAnJzsKCiAgICByZXR1cm4gMQogICAgICAgIGlmICRMYXN0U2VuZGVyIGVxICdjdXN0b21lcicKICAgICAgICAmJiAkTmV3U2VuZGVyICBlcSAnY3VzdG9tZXInCiAgICAgICAgJiYgJFN0YXRlVHlwZSAgZXEgJ29wZW4nCiAgICAgICAgJiYgJFByZXZpb3VzU3RhdGVUeXBlIG5lICdjbG9zZWQnOwoKICAgICMgcmVtZW1iZXIgc2VuZGVyIHRpbWUgc3RhbXAKICAgIG15ICggJFNlYywgJE1pbiwgJEhvdXIsICREYXksICRNb250aCwgJFllYXIgKSA9ICRTZWxmLT57VGltZU9iamVjdH0tPlN5c3RlbVRpbWUyRGF0ZSgKICAgICAgICBTeXN0ZW1UaW1lID0+ICRTZWxmLT57VGltZU9iamVjdH0tPlRpbWVTdGFtcDJTeXN0ZW1UaW1lKAogICAgICAgICAgICBTdHJpbmcgPT4gJEFydGljbGV7Q3JlYXRlZH0sCiAgICAgICAgKSwKICAgICk7CgogICAgbXkgJERpcmVjdGlvbiA9ICRTZWxmLT57RHluYW1pY0ZpZWxkQmFja2VuZE9iamVjdH0tPlZhbHVlU2V0KAogICAgICAgIER5bmFtaWNGaWVsZENvbmZpZyA9PiAkRHluYW1pY0ZpZWxkQ29uZmlnRGlyZWN0aW9uLAogICAgICAgIE9iamVjdElEICAgICAgICAgICA9PiAkUGFyYW17VGlja2V0SUR9LAogICAgICAgIFZhbHVlICAgICAgICAgICAgICA9PiAkQXJ0aWNsZXtTZW5kZXJUeXBlfSwKICAgICAgICBVc2VySUQgICAgICAgICAgICAgPT4gMSwKICAgICk7CgogICAgbXkgJFRpbWUgPSAkU2VsZi0+e0R5bmFtaWNGaWVsZEJhY2tlbmRPYmplY3R9LT5WYWx1ZVNldCgKICAgICAgICBEeW5hbWljRmllbGRDb25maWcgPT4gJER5bmFtaWNGaWVsZENvbmZpZ1RpbWUsCiAgICAgICAgT2JqZWN0SUQgICAgICAgICAgID0+ICRQYXJhbXtUaWNrZXRJRH0sCiAgICAgICAgVmFsdWUgICAgICAgICAgICAgID0+ICRBcnRpY2xle0NyZWF0ZWR9LAogICAgICAgIFVzZXJJRCAgICAgICAgICAgICA9PiAxLAogICAgKTsKCiAgICByZXR1cm4gMTsKfQoKMTsK</File>
        <File Location="scripts/updatelastcustomercontact.pl" Permission="755" Encode="Base64">IyEvdXNyL2Jpbi9wZXJsIC13CiMgLS0KIyB1cGRhdGVsYXN0Y3VzdG9tZXJjb250YWN0LnBsIC0gdXBkYXRlIGFsbCB0aWNrZXRzIHdpdGggbGFzdCBjdXN0b21lciBjb250YWN0CiMgQ29weXJpZ2h0IChDKSAyMDEzIFpudW55IEdtYkgsIGh0dHA6Ly96bnVueS5jb20vCiMgLS0KCnVzZSBGaWxlOjpCYXNlbmFtZTsKdXNlIEZpbmRCaW4gcXcoJFJlYWxCaW4pOwp1c2UgbGliIGRpcm5hbWUoJFJlYWxCaW4pOwp1c2UgbGliIGRpcm5hbWUoJFJlYWxCaW4pIC4gJy9LZXJuZWwvY3Bhbi1saWInOwoKdXNlIHN0cmljdDsKdXNlIHdhcm5pbmdzOwoKdXNlIEtlcm5lbDo6Q29uZmlnOwp1c2UgS2VybmVsOjpTeXN0ZW06OkxvZzsKdXNlIEtlcm5lbDo6U3lzdGVtOjpNYWluOwp1c2UgS2VybmVsOjpTeXN0ZW06OkVuY29kZTsKdXNlIEtlcm5lbDo6U3lzdGVtOjpUaW1lOwp1c2UgS2VybmVsOjpTeXN0ZW06OkRCOwp1c2UgS2VybmVsOjpTeXN0ZW06OlRpY2tldDsKdXNlIEtlcm5lbDo6U3lzdGVtOjpEeW5hbWljRmllbGQ7CnVzZSBLZXJuZWw6OlN5c3RlbTo6RHluYW1pY0ZpZWxkOjpCYWNrZW5kOwoKIyBjb21tb24gb2JqZWN0cwpteSAlQ29tbW9uT2JqZWN0ID0gKCk7CiRDb21tb25PYmplY3R7Q29uZmlnT2JqZWN0fSA9IEtlcm5lbDo6Q29uZmlnLT5uZXcoKTsKJENvbW1vbk9iamVjdHtMb2dPYmplY3R9ICAgID0gS2VybmVsOjpTeXN0ZW06OkxvZy0+bmV3KAogICAgTG9nUHJlZml4ID0+ICdPVFJTLXVwZGF0ZWxhc3RjdXN0b21lcmNvbnRhY3QucGwnLAogICAgJUNvbW1vbk9iamVjdAopOwokQ29tbW9uT2JqZWN0e01haW5PYmplY3R9ICAgPSBLZXJuZWw6OlN5c3RlbTo6TWFpbi0+bmV3KCVDb21tb25PYmplY3QpOwokQ29tbW9uT2JqZWN0e0VuY29kZU9iamVjdH0gPSBLZXJuZWw6OlN5c3RlbTo6RW5jb2RlLT5uZXcoJUNvbW1vbk9iamVjdCk7CiRDb21tb25PYmplY3R7VGltZU9iamVjdH0gICA9IEtlcm5lbDo6U3lzdGVtOjpUaW1lLT5uZXcoJUNvbW1vbk9iamVjdCk7CiRDb21tb25PYmplY3R7REJPYmplY3R9ICAgICA9IEtlcm5lbDo6U3lzdGVtOjpEQi0+bmV3KCVDb21tb25PYmplY3QpOwokQ29tbW9uT2JqZWN0e1RpY2tldE9iamVjdH0gPSBLZXJuZWw6OlN5c3RlbTo6VGlja2V0LT5uZXcoJUNvbW1vbk9iamVjdCk7CiRDb21tb25PYmplY3R7RHluYW1pY0ZpZWxkT2JqZWN0fSA9IEtlcm5lbDo6U3lzdGVtOjpEeW5hbWljRmllbGQtPm5ldyggJUNvbW1vbk9iamVjdCApOwokQ29tbW9uT2JqZWN0e0R5bmFtaWNGaWVsZEJhY2tlbmRPYmplY3R9ID0gS2VybmVsOjpTeXN0ZW06OkR5bmFtaWNGaWVsZDo6QmFja2VuZC0+bmV3KCAlQ29tbW9uT2JqZWN0ICk7CgoKIyBnZXQgYWxsIG9wZW4gdGlja2V0cwpteSAkU1FMID0gIlNFTEVDVCB0LmlkIEZST00gdGlja2V0IHQsIHRpY2tldF9zdGF0ZSB0cywgdGlja2V0X3N0YXRlX3R5cGUgdHN0IFdIRVJFICIgLgogICAgIiB0LnRpY2tldF9zdGF0ZV9pZCA9IHRzLmlkIEFORCB0cy50eXBlX2lkID0gdHN0LmlkIEFORCB0c3QubmFtZSBJTiAoJ25ldycsICdvcGVuJywgJ3BlbmRpbmcgcmVtaW5kZXInLCAncGVuZGluZyBhdXRvJykgIjsKJENvbW1vbk9iamVjdHtEQk9iamVjdH0tPlByZXBhcmUoIFNRTCA9PiAkU1FMICk7CgpteSBAVGlja2V0SURzOwp3aGlsZSAoIG15IEBSb3cgPSAkQ29tbW9uT2JqZWN0e0RCT2JqZWN0fS0+RmV0Y2hyb3dBcnJheSgpICkgewogICAgcHVzaCBAVGlja2V0SURzLCAkUm93WzBdOwp9CmV4aXQoMCkgaWYgIUBUaWNrZXRJRHM7CgpteSAkRHluYW1pY0ZpZWxkQ29uZmlnRGlyZWN0aW9uID0gJENvbW1vbk9iamVjdHtEeW5hbWljRmllbGRPYmplY3R9LT5EeW5hbWljRmllbGRHZXQoCiAgICBOYW1lID0+ICJUaWNrZXRMYXN0Q3VzdG9tZXJDb250YWN0RGlyZWN0aW9uIiwKKTsgICAgICAgIApleGl0KDApIGlmICEkRHluYW1pY0ZpZWxkQ29uZmlnRGlyZWN0aW9uOwoKbXkgJER5bmFtaWNGaWVsZENvbmZpZ1RpbWUgPSAkQ29tbW9uT2JqZWN0e0R5bmFtaWNGaWVsZE9iamVjdH0tPkR5bmFtaWNGaWVsZEdldCgKICAgIE5hbWUgPT4gIlRpY2tldExhc3RDdXN0b21lckNvbnRhY3RUaW1lIiwKKTsKZXhpdCgwKSBpZiAhJER5bmFtaWNGaWVsZENvbmZpZ1RpbWU7CgoKIyB0aWNrZXQgbG9vcApUSUNLRVRTOgpmb3IgbXkgJFRpY2tldElEICggc29ydCB7ICRhIDw9PiAkYiB9IEBUaWNrZXRJRHMgKSB7CiAgICBteSBAQXJ0aWNsZUluZGV4ID0gJENvbW1vbk9iamVjdHtUaWNrZXRPYmplY3R9LT5BcnRpY2xlSW5kZXgoIFRpY2tldElEID0+ICRUaWNrZXRJRCApOwogICAgbmV4dCBUSUNLRVRTIGlmICFAQXJ0aWNsZUluZGV4OwoKICAgICMgYXJ0aWNsZSBsb29wCiAgICBBUlRJQ0xFUzoKICAgIGZvciBteSAkQXJ0aWNsZUlEICggcmV2ZXJzZSBzb3J0IHsgJGEgPD0+ICRiIH0gQEFydGljbGVJbmRleCApIHsKICAgICAgICBteSAlQXJ0aWNsZSA9ICRDb21tb25PYmplY3R7VGlja2V0T2JqZWN0fS0+QXJ0aWNsZUdldCggQXJ0aWNsZUlEID0+ICRBcnRpY2xlSUQgKTsKICAgICAgICBuZXh0IEFSVElDTEVTIGlmICElQXJ0aWNsZTsKICAgICAgICBuZXh0IEFSVElDTEVTIGlmICRBcnRpY2xle1NlbmRlclR5cGV9ICF+IC9eKGN1c3RvbWVyfGFnZW50KS87CiAgICAgICAgbmV4dCBBUlRJQ0xFUyBpZiAkQXJ0aWNsZXtBcnRpY2xlVHlwZX0gIX4gLyhleHRlcm58cGhvbmV8ZmF4fHNtcykvOwoKICAgICAgICAjIHVwZGF0ZSBsYXN0IGN1c3RvbWVyIHVwZGF0ZSB0aW1lc3RhbXAKICAgICAgICBteSAoICRTZWMsICRNaW4sICRIb3VyLCAkRGF5LCAkTW9udGgsICRZZWFyICkgPSAkQ29tbW9uT2JqZWN0e1RpbWVPYmplY3R9LT5TeXN0ZW1UaW1lMkRhdGUoCiAgICAgICAgICAgIFN5c3RlbVRpbWUgPT4gJENvbW1vbk9iamVjdHtUaW1lT2JqZWN0fS0+VGltZVN0YW1wMlN5c3RlbVRpbWUoCiAgICAgICAgICAgICAgICBTdHJpbmcgPT4gJEFydGljbGV7Q3JlYXRlZH0sCiAgICAgICAgICAgICksCiAgICAgICAgKTsKCiAgICAgICAgbXkgJERpcmVjdGlvbiA9ICRDb21tb25PYmplY3R7RHluYW1pY0ZpZWxkQmFja2VuZE9iamVjdH0tPlZhbHVlU2V0KAogICAgICAgICAgICBEeW5hbWljRmllbGRDb25maWcgPT4gJER5bmFtaWNGaWVsZENvbmZpZ0RpcmVjdGlvbiwKICAgICAgICAgICAgT2JqZWN0SUQgICAgICAgICAgID0+ICRUaWNrZXRJRCwKICAgICAgICAgICAgVmFsdWUgICAgICAgICAgICAgID0+ICRBcnRpY2xle1NlbmRlclR5cGV9LAogICAgICAgICAgICBVc2VySUQgICAgICAgICAgICAgPT4gMSwKICAgICAgICApOyAgICAgICAgCgogICAgICAgIG15ICRUaW1lID0gJENvbW1vbk9iamVjdHtEeW5hbWljRmllbGRCYWNrZW5kT2JqZWN0fS0+VmFsdWVTZXQoCiAgICAgICAgICAgIER5bmFtaWNGaWVsZENvbmZpZyA9PiAkRHluYW1pY0ZpZWxkQ29uZmlnVGltZSwKICAgICAgICAgICAgT2JqZWN0SUQgICAgICAgICAgID0+ICRUaWNrZXRJRCwKICAgICAgICAgICAgVmFsdWUgICAgICAgICAgICAgID0+ICRBcnRpY2xle0NyZWF0ZWR9LAogICAgICAgICAgICBVc2VySUQgICAgICAgICAgICAgPT4gMSwKICAgICAgICApOwoKICAgICAgICBsYXN0IEFSVElDTEVTOwogICAgfQp9CgpleGl0KDApOwo=</File>
        <File Location="var/packagesetup/LastCustomerContact.pm" Permission="644" Encode="Base64">IyAtLQojIExhc3RDdXN0b21lckNvbnRhY3QucG0KIyBDb3B5cmlnaHQgKEMpIDIwMTMgWm51bnkgR21iSCwgaHR0cDovL3pudW55LmNvbS8KIyAtLQoKcGFja2FnZSB2YXI6OnBhY2thZ2VzZXR1cDo6TGFzdEN1c3RvbWVyQ29udGFjdDsKCnVzZSBzdHJpY3Q7CnVzZSB3YXJuaW5nczsKCnVzZSBLZXJuZWw6OkNvbmZpZzsKdXNlIEtlcm5lbDo6U3lzdGVtOjpTeXNDb25maWc7CnVzZSBLZXJuZWw6OlN5c3RlbTo6VmFsaWQ7CnVzZSBLZXJuZWw6OlN5c3RlbTo6RHluYW1pY0ZpZWxkOwp1c2UgS2VybmVsOjpTeXN0ZW06OlZhcmlhYmxlQ2hlY2sgcXcoOmFsbCk7CgpzdWIgbmV3IHsKICAgIG15ICggJFR5cGUsICVQYXJhbSApID0gQF87CgogICAgIyBhbGxvY2F0ZSBuZXcgaGFzaCBmb3Igb2JqZWN0CiAgICBteSAkU2VsZiA9IHt9OwogICAgYmxlc3MoICRTZWxmLCAkVHlwZSApOwoKICAgICMgY2hlY2sgbmVlZGVkIG9iamVjdHMKICAgIGZvciBteSAkT2JqZWN0ICgKICAgICAgICBxdyggRW5jb2RlT2JqZWN0IExvZ09iamVjdCBNYWluT2JqZWN0IFRpbWVPYmplY3QgREJPYmplY3QgQ29uZmlnT2JqZWN0ICkKICAgICAgICApCiAgICB7CiAgICAgICAgJFNlbGYtPnskT2JqZWN0fSA9ICRQYXJhbXskT2JqZWN0fSB8fAogICAgICAgICAgICAkU2VsZi0+e0xvZ09iamVjdH0tPkxvZygKICAgICAgICAgICAgUHJpb3JpdHkgPT4gJ2Vycm9yJywKICAgICAgICAgICAgTWVzc2FnZSAgPT4gIk1pc3NpbmcgcGFyYW1ldGVyIGZvciAkT2JqZWN0ISIKICAgICAgICAgICAgKTsKICAgIH0KCiAgICAkU2VsZi0+e1ZhbGlkT2JqZWN0fSAgICAgICAgPSBLZXJuZWw6OlN5c3RlbTo6VmFsaWQtPm5ldyggJXskU2VsZn0gKTsKICAgICRTZWxmLT57RHluYW1pY0ZpZWxkT2JqZWN0fSA9IEtlcm5lbDo6U3lzdGVtOjpEeW5hbWljRmllbGQtPm5ldyggJXskU2VsZn0gKTsKCiAgICByZXR1cm4gJFNlbGY7Cn0KCj1pdGVtIENvZGVJbnN0YWxsKCkKCnJ1biB0aGUgY29kZSBpbnN0YWxsIHBhcnQKCiAgICBteSAkUmVzdWx0ID0gJENvZGVPYmplY3QtPkNvZGVJbnN0YWxsKCk7Cgo9Y3V0CgpzdWIgQ29kZUluc3RhbGwgewogICAgbXkgKCAkU2VsZiwgJVBhcmFtICkgPSBAXzsKCiAgICAkU2VsZi0+X0NyZWF0ZUR5bmFtaWNGaWVsZHMoKTsKCiAgICByZXR1cm4gMTsKfQoKc3ViIF9DcmVhdGVEeW5hbWljRmllbGRzIHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgbXkgJFZhbGlkSUQgPSAkU2VsZi0+e1ZhbGlkT2JqZWN0fS0+VmFsaWRMb29rdXAoCiAgICAgICAgVmFsaWQgPT4gJ3ZhbGlkJywKICAgICk7CgogICAgIyBnZXQgYWxsIGN1cnJlbnQgZHluYW1pYyBmaWVsZHMKICAgIG15ICREeW5hbWljRmllbGRMaXN0ID0gJFNlbGYtPntEeW5hbWljRmllbGRPYmplY3R9LT5EeW5hbWljRmllbGRMaXN0R2V0KAogICAgICAgIFZhbGlkID0+IDAsCiAgICApOwoKICAgICMgZ2V0IHRoZSBsaXN0IG9mIG9yZGVyIG51bWJlcnMgKGlzIGFscmVhZHkgc29ydGVkKS4KICAgIG15IEBEeW5hbWljZmllbGRPcmRlckxpc3Q7CiAgICBmb3IgbXkgJER5bmFtaWNmaWVsZCAoIEB7JER5bmFtaWNGaWVsZExpc3R9ICkgewogICAgICAgIHB1c2ggQER5bmFtaWNmaWVsZE9yZGVyTGlzdCwgJER5bmFtaWNmaWVsZC0+e0ZpZWxkT3JkZXJ9OwogICAgfQoKICAgICMgZ2V0IHRoZSBsYXN0IGVsZW1lbnQgZnJvbSB0aGUgb3JkZXIgbGlzdCBhbmQgYWRkIDEKICAgIG15ICROZXh0T3JkZXJOdW1iZXIgPSAxOwogICAgaWYgKEBEeW5hbWljZmllbGRPcmRlckxpc3QpIHsKICAgICAgICAkTmV4dE9yZGVyTnVtYmVyID0gJER5bmFtaWNmaWVsZE9yZGVyTGlzdFstMV0gKyAxOwogICAgfQoKICAgICMgY3JlYXRlIGR5bmFtaWMgZmllbGRzCiAgICBteSAkRHluYW1pY0ZpZWxkQ29uZmlnRGlyZWN0aW9uID0gJFNlbGYtPntEeW5hbWljRmllbGRPYmplY3R9LT5EeW5hbWljRmllbGRHZXQoCiAgICAgICAgTmFtZSA9PiAiVGlja2V0TGFzdEN1c3RvbWVyQ29udGFjdERpcmVjdGlvbiIsCiAgICApOwoKICAgIG15ICREeW5hbWljRmllbGRDb25maWdUaW1lID0gJFNlbGYtPntEeW5hbWljRmllbGRPYmplY3R9LT5EeW5hbWljRmllbGRHZXQoCiAgICAgICAgTmFtZSA9PiAiVGlja2V0TGFzdEN1c3RvbWVyQ29udGFjdFRpbWUiLAogICAgKTsKCiAgICBteSAkVGlja2V0TGFzdEN1c3RvbWVyQ29udGFjdFRpbWVJRCA9ICRTZWxmLT57RHluYW1pY0ZpZWxkT2JqZWN0fS0+RHluYW1pY0ZpZWxkQWRkKAogICAgICAgIE5hbWUgICAgICAgPT4gJ1RpY2tldExhc3RDdXN0b21lckNvbnRhY3RUaW1lJywKICAgICAgICBMYWJlbCAgICAgID0+ICdUaWNrZXRMYXN0Q3VzdG9tZXJDb250YWN0VGltZScsCiAgICAgICAgRmllbGRPcmRlciA9PiAkTmV4dE9yZGVyTnVtYmVyLAogICAgICAgIEZpZWxkVHlwZSAgPT4gJ0RhdGVUaW1lJywKICAgICAgICBPYmplY3RUeXBlID0+ICdUaWNrZXQnLAogICAgICAgIENvbmZpZyAgICAgPT4ge30sCiAgICAgICAgVmFsaWRJRCAgICA9PiAkVmFsaWRJRCwKICAgICAgICBVc2VySUQgICAgID0+IDEsCiAgICApOwoKICAgIGlmICgkVGlja2V0TGFzdEN1c3RvbWVyQ29udGFjdFRpbWVJRCkgewogICAgICAgICROZXh0T3JkZXJOdW1iZXIrKzsKCiAgICB9CgoKICAgIG15ICRUaWNrZXRMYXN0Q3VzdG9tZXJDb250YWN0VGltZUlEID0gJFNlbGYtPntEeW5hbWljRmllbGRPYmplY3R9LT5EeW5hbWljRmllbGRBZGQoCiAgICAgICAgTmFtZSAgICAgICA9PiAnVGlja2V0TGFzdEN1c3RvbWVyQ29udGFjdERpcmVjdGlvbicsCiAgICAgICAgTGFiZWwgICAgICA9PiAnVGlja2V0TGFzdEN1c3RvbWVyQ29udGFjdERpcmVjdGlvbicsCiAgICAgICAgRmllbGRPcmRlciA9PiAkTmV4dE9yZGVyTnVtYmVyLAogICAgICAgIEZpZWxkVHlwZSAgPT4gJ1RleHQnLAogICAgICAgIE9iamVjdFR5cGUgPT4gJ1RpY2tldCcsCiAgICAgICAgQ29uZmlnICAgICA9PiB7fSwKICAgICAgICBWYWxpZElEICAgID0+ICRWYWxpZElELAogICAgICAgIFVzZXJJRCAgICAgPT4gMSwKICAgICk7CgogICAgaWYgKCRUaWNrZXRMYXN0Q3VzdG9tZXJDb250YWN0VGltZUlEKSB7CiAgICAgICAgJE5leHRPcmRlck51bWJlcisrOwogICAgfQogICAgcmV0dXJuIDE7Cn0KCjE7Cg==</File>
    </Filelist>
</otrs_package>